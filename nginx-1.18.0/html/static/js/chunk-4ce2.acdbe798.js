(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4ce2"],{GmUp:function(e,t,s){"use strict";s.r(t);var r=s("QbLZ"),a=s.n(r),l=s("N4Yp"),n={username:"",nickName:"",password:"",roleId:""},u=function(e,t,s){t.length<6?s(new Error("密码不能小于6位")):s()},o={data:function(){return{user:n,saveBtnDisabled:!1,validateRules:{username:[{required:!0,trigger:"blur",message:"用户名必须输入"}],password:[{required:!0,trigger:"blur",validator:u}]},rolelist:[]}},watch:{$route:function(e,t){console.log("路由变化......"),console.log(e),console.log(t),this.init()}},created:function(){console.log("form created ......"),this.init(),this.getRoleList()},methods:{getRoleList:function(){var e=this;l.a.getRoleList().then(function(t){e.rolelist=t.data.list,console.log(e.userList)})},init:function(){if(this.$route.params&&this.$route.params.id){var e=this.$route.params.id;this.fetchDataById(e)}else this.user=a()({},n)},saveOrUpdate:function(){var e=this;this.$refs.user.validate(function(t){t&&(e.saveBtnDisabled=!0,e.user.id?e.updateData():e.saveData())})},saveData:function(){var e=this;l.a.saveAdminUser(this.user).then(function(t){t.success&&(e.$message({type:"success",message:t.message}),e.$router.push({path:"/auth/userlist"}))})},updateData:function(){var e=this;l.a.updateAdminUserById(this.user).then(function(t){t.success&&(e.$message({type:"success",message:t.message}),e.$router.push({path:"/auth/userlist"}))})},fetchDataById:function(e){var t=this;l.a.getAdminUserById(e).then(function(e){t.user=e.data.data,console.log(e.data)})}}},i=s("KHd+"),d=Object(i.a)(o,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-form",{ref:"user",attrs:{model:e.user,rules:e.validateRules,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"用户昵称"}},[s("el-input",{model:{value:e.user.nickName,callback:function(t){e.$set(e.user,"nickName",t)},expression:"user.nickName"}})],1),e._v(" "),e.user.id?e._e():s("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[s("el-input",{model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"分类"}},[s("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.user.roleId,callback:function(t){e.$set(e.user,"roleId",t)},expression:"user.roleId"}},e._l(e.rolelist,function(e){return s("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})}))],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{disabled:e.saveBtnDisabled,type:"primary"},on:{click:e.saveOrUpdate}},[e._v("保存")])],1)],1)],1)},[],!1,null,null,null);d.options.__file="addUser.vue";t.default=d.exports},N4Yp:function(e,t,s){"use strict";var r=s("t3Un");t.a={addNewRole:function(e){return Object(r.a)({url:"/acl/role/addNewRole",method:"post",data:e})},deleteRoleById:function(e){return Object(r.a)({url:"/acl/role/deleteRoleById/"+e,method:"delete"})},updateRoleById:function(e){return Object(r.a)({url:"/acl/role/updateRoleById",method:"post",data:e})},getRoleById:function(e){return Object(r.a)({url:"/acl/role/getRoleById/"+e,method:"get"})},getUserRoleList:function(){return Object(r.a)({url:"/acl/user-role/getAll",method:"get"})},getUserList:function(){return Object(r.a)({url:"/acl/user/getAllAdminUser",method:"post"})},deleteUser:function(e){return Object(r.a)({url:"/acl/user/delete/"+e,method:"delete"})},getAdminUserById:function(e){return Object(r.a)({url:"/acl/user/getAdminUserById/"+e,method:"post"})},getRoleList:function(){return Object(r.a)({url:"/acl/role/getAll",method:"get"})},updateAdminUserById:function(e){return Object(r.a)({url:"/acl/user/updateAdminUserById",method:"post",data:e})},deleteUserRole:function(e){return Object(r.a)({url:"/acl/user-role/delete/"+e,method:"delete"})},saveAdminUser:function(e){return Object(r.a)({url:"/acl/user/saveAdminUser",method:"post",data:e})},save:function(e){return Object(r.a)({url:"/acl/user/register",method:"post",data:e})},delete:function(e){return Object(r.a)({url:"/employee/tbl/delete/"+e,method:"delete"})}}}}]);